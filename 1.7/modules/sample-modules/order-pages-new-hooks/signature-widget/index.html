<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.82.0" />
    <meta name="description" content="Learn how to extend, modify and test PrestaShop, create modules, themes, and more.">
<meta name="twitter:image" content="https://devdocs.prestashop.com/images/social-cover.jpg" />
<meta name="twitter:site" content="@prestashop" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Signature card" />
<meta name="twitter:description" content="Learn how to extend, modify and test PrestaShop, create modules, themes, and more.">
<meta property="og:image" content="https://devdocs.prestashop.com/images/social-cover.jpg" />
<meta property="og:site_name" content="PrestaShop" />
<meta property="og:title" content="Signature card" />
<meta property="og:description" content="Learn how to extend, modify and test PrestaShop, create modules, themes, and more.">
<meta name="author" content="PrestaShop">

    <link rel="icon" href="/images/preston-logo@2x.png" type="image/png">

    <title>Signature card :: PrestaShop Developer Documentation</title>

    
    <link href="/css/font-awesome.min.css?1627507034" rel="stylesheet">
    <link href="/css/syntax-github.css?1627507034" rel="stylesheet">
    <link href="/css/featherlight.min.css?1627507034" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1627507034" rel="stylesheet">
    <link href="/css/auto-complete.css?1627507034" rel="stylesheet">
    
    <link href="/style.css?1627507034" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700" rel="stylesheet">

    <script src="/js/jquery-3.3.1.min.js?1627507034"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

  </head>
  <body class="" data-url="/1.7/modules/sample-modules/order-pages-new-hooks/signature-widget/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">PrestaShop DevDocs</a>

    </div>
    
        <div class="searchbox-extended">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input id="search-by" type="search" placeholder="Search...">
</div>


    
  </div>

    <div class="highlightable">
    <ul class="topics">

      
        
      
    </ul>

    
    

    
    <section id="footer">
      <p><a href="https://github.com/PrestaShop/PrestaShop/"><i class="fa fa-github" aria-hidden="true"></i> PrestaShop on GitHub</a></p>
<p><a href="https://github.com/PrestaShop/PrestaShop/issues"><i class="fa fa-bug" aria-hidden="true"></i> Report a bug</a></p>
<p><a href="https://www.prestashop-project.org/slack/readme/"><i class="fa fa-comment" aria-hidden="true"></i> Join us on Slack</a></p>

    </section>
  </div>
</nav>





      <section id="body">
      <div id="overlay"></div>
      <div class="padding highlightable">
        
<div>
  <div id="top-bar">
    
      
      
      
      <div id="top-github-link">
        <a class="github-link" title='Improve this page' href="https://github.com/PrestaShop/docs/edit/master/src/content/1.7/modules/sample-modules/order-pages-new-hooks/signature-widget.md" target="blank">
          <i class="fa fa-pencil"></i>
          <span id="top-github-link-text">Improve this page</span>
        </a>
        <a class="how-to-improve" href="/1.7/contribute/documentation/how/">
          <i class="fa fa-question-circle"></i>
          <span>How</span>
        </a>
      </div>
      
    
    <div id="breadcrumbs" itemscope="" itemtype="http://schema.org/breadcrumb">
      <span id="sidebar-toggle-span">
        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
          <i class="fa fa-bars"></i>
        </a>
      </span>
      <span class="links">
        
            
            
              
              
            
            
              
              
            
            
              
              
            
            
              
              
            
            
              
              
            
            
              <a href='/'>Home</a> > <a href='/1.7/'>PrestaShop 1.7</a> > <a href='/1.7/modules/'>Modules</a> > <a href='/1.7/modules/sample-modules/'>Sample modules</a> > <a href='/1.7/modules/sample-modules/order-pages-new-hooks/'>Order view page new hooks demo tutorial</a> > Signature card
            
          
            
          
            
          
            
          
            
          
            
          
      </span>
    </div>
  </div>
</div>




        

        
        
          
            <div id="toc">
  <div class="wrapper">
    <div id="toc-title">Table of Contents</div>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#signature-card">Signature card</a>
      <ul>
        <li><a href="#displayadminorderside-hook">displayAdminOrderSide hook</a></li>
        <li><a href="#result">Result</a></li>
      </ul>
    </li>
  </ul>
</nav>

    <div id="navigation">
  
  

  

  
    
    
      
        
        
      
      
      
      
        
      
      

      
        
    
    
      
        
        
      
      
      
      
        
      
      

      
        
    
    
      
        
          
          
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
        
      
      
      
      
        
      
      

      
        
    
    
      
        
          
          
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
        
      
      
      
      
        
      
      

      
        
    
    
      
        
          
          
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
        
      
      
      
      
      

      
        
    
    
      
        
          
          
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
          
          
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
        
      
      

      
        
    
    
      
        
      
      
      
      
      

      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
        
    
    
      
        
      
      
      
      
      

      
    
  
      
    
  
      
    
  
      
    
  

  
  
  <a class="nav nav-next" href="/1.7/modules/sample-modules/order-pages-new-hooks/additional-action-buttons/" title="Additional action buttons" style="margin-right: 0px;">
    <i class="fa fa-chevron-right"></i>
    Next article
  </a>
  
</div>

  </div>
</div>

          
        

        <div id="body-inner">

          




<h1 id="signature-card">Signature card</h1>
<h2 id="displayadminorderside-hook">displayAdminOrderSide hook</h2>
<p>We use this hook to display scanned customer signature.</p>
<p>Lets create custom repository <code>OrderSignatureRepository</code> class inside <code>demovieworderhooks/src/Repository</code> folder.
Symfony Repository classes (<a href="https://symfony.com/doc/3.3/doctrine/repository.html">https://symfony.com/doc/3.3/doctrine/repository.html</a>) help to interact with the database by providing frequently used functions
like <code>findOneBy</code> to get the data (for example filtered data by a certain criteria - <code>orderId</code>
field from <code>OrderSignature</code> entity).</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>
<span class="sd">/**
</span><span class="sd"> * Copyright since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * PrestaShop is an International Registered Trademark &amp; Property of PrestaShop SA
</span><span class="sd"> *
</span><span class="sd"> * NOTICE OF LICENSE
</span><span class="sd"> *
</span><span class="sd"> * This source file is subject to the Academic Free License version 3.0
</span><span class="sd"> * that is bundled with this package in the file LICENSE.md.
</span><span class="sd"> * It is also available through the world-wide-web at this URL:
</span><span class="sd"> * https://opensource.org/licenses/AFL-3.0
</span><span class="sd"> * If you did not receive a copy of the license and are unable to
</span><span class="sd"> * obtain it through the world-wide-web, please send an email
</span><span class="sd"> * to license@prestashop.com so we can send you a copy immediately.
</span><span class="sd"> *
</span><span class="sd"> * @author    PrestaShop SA and Contributors &lt;contact@prestashop.com&gt;
</span><span class="sd"> * @copyright Since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License version 3.0
</span><span class="sd"> */</span>

<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">namespace</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\Repository</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Doctrine\ORM\EntityRepository</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">OrderSignatureRepository</span> <span class="k">extends</span> <span class="nx">EntityRepository</span>
<span class="p">{</span>
    <span class="sd">/**
</span><span class="sd">     * @param int $orderId
</span><span class="sd">     *
</span><span class="sd">     * @return object|null
</span><span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">findOneByOrderId</span><span class="p">(</span><span class="nx">int</span> <span class="nv">$orderId</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">findOneBy</span><span class="p">([</span><span class="s1">&#39;orderId&#39;</span> <span class="o">=&gt;</span> <span class="nv">$orderId</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="notices note" >It is important that custom repository name represent the database table name. In this case we have <code>order_signature</code>
table created and the repository starts with the same wording <code>OrderSignatureRepository</code>.</div>

<p>Let&rsquo;s create <code>OrderSignature</code> entity class inside <code>demovieworderhooks/src/Entity</code> folder and use
Doctrine Object Relational Mapping (ORM) annotations:
<a href="https://devdocs.prestashop.com/1.7/modules/concepts/doctrine/#define-an-entity">https://devdocs.prestashop.com/1.7/modules/concepts/doctrine/#define-an-entity</a>.
Also we map this entity with the repository with
<code>repositoryClass=&quot;PrestaShop\Module\DemoViewOrderHooks\Repository\OrderSignatureRepository&quot;</code>.
This mapping allows to use functions of <code>SignatureRepository</code> instead of only the <code>EntityRepository</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>
<span class="sd">/**
</span><span class="sd"> * Copyright since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * PrestaShop is an International Registered Trademark &amp; Property of PrestaShop SA
</span><span class="sd"> *
</span><span class="sd"> * NOTICE OF LICENSE
</span><span class="sd"> *
</span><span class="sd"> * This source file is subject to the Academic Free License version 3.0
</span><span class="sd"> * that is bundled with this package in the file LICENSE.md.
</span><span class="sd"> * It is also available through the world-wide-web at this URL:
</span><span class="sd"> * https://opensource.org/licenses/AFL-3.0
</span><span class="sd"> * If you did not receive a copy of the license and are unable to
</span><span class="sd"> * obtain it through the world-wide-web, please send an email
</span><span class="sd"> * to license@prestashop.com so we can send you a copy immediately.
</span><span class="sd"> *
</span><span class="sd"> * @author    PrestaShop SA and Contributors &lt;contact@prestashop.com&gt;
</span><span class="sd"> * @copyright Since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License version 3.0
</span><span class="sd"> */</span>

<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">namespace</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\Entity</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Doctrine\ORM\Mapping</span> <span class="k">as</span> <span class="nx">ORM</span><span class="p">;</span>

<span class="sd">/**
</span><span class="sd"> * @ORM\Table()
</span><span class="sd"> * @ORM\Entity(repositoryClass=&#34;PrestaShop\Module\DemoViewOrderHooks\Repository\OrderSignatureRepository&#34;)
</span><span class="sd"> */</span>
<span class="k">class</span> <span class="nc">OrderSignature</span>
<span class="p">{</span>
    <span class="sd">/**
</span><span class="sd">     * @var int|null
</span><span class="sd">     *
</span><span class="sd">     * @ORM\Id
</span><span class="sd">     * @ORM\Column(name=&#34;id_signature&#34;, type=&#34;integer&#34;)
</span><span class="sd">     * @ORM\GeneratedValue(strategy=&#34;AUTO&#34;)
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$id</span><span class="p">;</span>

    <span class="sd">/**
</span><span class="sd">     * @var int
</span><span class="sd">     *
</span><span class="sd">     * @ORM\Column(name=&#34;id_order&#34;, type=&#34;integer&#34;)
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$orderId</span><span class="p">;</span>

    <span class="sd">/**
</span><span class="sd">     * @var string
</span><span class="sd">     *
</span><span class="sd">     * @ORM\Column(name=&#34;filename&#34;, type=&#34;string&#34;)
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$filename</span><span class="p">;</span>

    <span class="sd">/**
</span><span class="sd">     * @return int|null
</span><span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getId</span><span class="p">()</span><span class="o">:</span> <span class="o">?</span><span class="nx">int</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**
</span><span class="sd">     * @param int $id
</span><span class="sd">     *
</span><span class="sd">     * @return self
</span><span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">setId</span><span class="p">(</span><span class="nx">int</span> <span class="nv">$id</span><span class="p">)</span><span class="o">:</span> <span class="nx">self</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">id</span> <span class="o">=</span> <span class="nv">$id</span><span class="p">;</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**
</span><span class="sd">     * @return string
</span><span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getFilename</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">filename</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**
</span><span class="sd">     * @param string $filename
</span><span class="sd">     *
</span><span class="sd">     * @return self
</span><span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">setFilename</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$filename</span><span class="p">)</span><span class="o">:</span> <span class="nx">self</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">filename</span> <span class="o">=</span> <span class="nv">$filename</span><span class="p">;</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**
</span><span class="sd">     * @return int
</span><span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getOrderId</span><span class="p">()</span><span class="o">:</span> <span class="nx">int</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">orderId</span><span class="p">;</span>
    <span class="p">}</span>

<span class="p">}</span>

</code></pre></div><p>Let&rsquo;s put our signature picture, <code>john_doe.png</code> inside <code>demovieworderhooks/signatures/</code> folder.</p>
<figure>
    <img src="../../img/view-order-hooks-demo/john_doe.png"/> <figcaption>
            <h4>Signature</h4>
        </figcaption>
</figure>

<p>Let&rsquo;s create Order Repository and data structures for interacting with Orders data.
Data Transfer Object (<a href="https://en.wikipedia.org/wiki/Data_transfer_object">https://en.wikipedia.org/wiki/Data_transfer_object</a>)
<code>Order.php</code> in <code>src/DTO</code> to carry data between processes. The main benefit is that it reduces
the amount of data that needs to be sent inside application and encapsulates parameters for
method calls (This can be useful if a method takes more than 4 or 5 parameters.). Also it is more
convenient than using associative array where you need to remember it&rsquo;s indexes to get the
certain values (no autocomplete is provided).</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>
<span class="sd">/**
</span><span class="sd"> * Copyright since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * PrestaShop is an International Registered Trademark &amp; Property of PrestaShop SA
</span><span class="sd"> *
</span><span class="sd"> * NOTICE OF LICENSE
</span><span class="sd"> *
</span><span class="sd"> * This source file is subject to the Academic Free License version 3.0
</span><span class="sd"> * that is bundled with this package in the file LICENSE.md.
</span><span class="sd"> * It is also available through the world-wide-web at this URL:
</span><span class="sd"> * https://opensource.org/licenses/AFL-3.0
</span><span class="sd"> * If you did not receive a copy of the license and are unable to
</span><span class="sd"> * obtain it through the world-wide-web, please send an email
</span><span class="sd"> * to license@prestashop.com so we can send you a copy immediately.
</span><span class="sd"> *
</span><span class="sd"> * @author    PrestaShop SA and Contributors &lt;contact@prestashop.com&gt;
</span><span class="sd"> * @copyright Since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License version 3.0
</span><span class="sd"> */</span>

<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">namespace</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\DTO</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">DateTimeImmutable</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">Order</span>
<span class="p">{</span>
    <span class="sd">/**
</span><span class="sd">     * @var int
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$orderId</span><span class="p">;</span>

    <span class="sd">/**
</span><span class="sd">     * @var string
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$reference</span><span class="p">;</span>

    <span class="sd">/**
</span><span class="sd">     * @var int
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$orderStateId</span><span class="p">;</span>

    <span class="sd">/**
</span><span class="sd">     * @var DateTimeImmutable
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$orderDate</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">int</span> <span class="nv">$orderId</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$reference</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$orderStateId</span><span class="p">,</span> <span class="nx">DateTimeImmutable</span> <span class="nv">$orderDate</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">orderId</span> <span class="o">=</span> <span class="nv">$orderId</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">reference</span> <span class="o">=</span> <span class="nv">$reference</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">orderStateId</span> <span class="o">=</span> <span class="nv">$orderStateId</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">orderDate</span> <span class="o">=</span> <span class="nv">$orderDate</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getOrderId</span><span class="p">()</span><span class="o">:</span> <span class="nx">int</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">orderId</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getReference</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">reference</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getOrderStateId</span><span class="p">()</span><span class="o">:</span> <span class="nx">int</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">orderStateId</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getOrderDate</span><span class="p">()</span><span class="o">:</span> <span class="nx">DateTimeImmutable</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">orderDate</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p><code>OrderCollection.php</code> in <code>src/Collection</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>
<span class="sd">/**
</span><span class="sd"> * Copyright since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * PrestaShop is an International Registered Trademark &amp; Property of PrestaShop SA
</span><span class="sd"> *
</span><span class="sd"> * NOTICE OF LICENSE
</span><span class="sd"> *
</span><span class="sd"> * This source file is subject to the Academic Free License version 3.0
</span><span class="sd"> * that is bundled with this package in the file LICENSE.md.
</span><span class="sd"> * It is also available through the world-wide-web at this URL:
</span><span class="sd"> * https://opensource.org/licenses/AFL-3.0
</span><span class="sd"> * If you did not receive a copy of the license and are unable to
</span><span class="sd"> * obtain it through the world-wide-web, please send an email
</span><span class="sd"> * to license@prestashop.com so we can send you a copy immediately.
</span><span class="sd"> *
</span><span class="sd"> * @author    PrestaShop SA and Contributors &lt;contact@prestashop.com&gt;
</span><span class="sd"> * @copyright Since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License version 3.0
</span><span class="sd"> */</span>

<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">namespace</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\Collection</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\DTO\Order</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PrestaShop\PrestaShop\Core\Data\AbstractTypedCollection</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">OrderCollection</span> <span class="k">extends</span> <span class="nx">AbstractTypedCollection</span>
<span class="p">{</span>
    <span class="sd">/**
</span><span class="sd">     * {@inheritdoc}
</span><span class="sd">     */</span>
    <span class="k">protected</span> <span class="k">function</span> <span class="nf">getType</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Order</span><span class="o">::</span><span class="na">class</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p><code>OrderRepository</code> in <code>src\Repository</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>
<span class="sd">/**
</span><span class="sd"> * Copyright since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * PrestaShop is an International Registered Trademark &amp; Property of PrestaShop SA
</span><span class="sd"> *
</span><span class="sd"> * NOTICE OF LICENSE
</span><span class="sd"> *
</span><span class="sd"> * This source file is subject to the Academic Free License version 3.0
</span><span class="sd"> * that is bundled with this package in the file LICENSE.md.
</span><span class="sd"> * It is also available through the world-wide-web at this URL:
</span><span class="sd"> * https://opensource.org/licenses/AFL-3.0
</span><span class="sd"> * If you did not receive a copy of the license and are unable to
</span><span class="sd"> * obtain it through the world-wide-web, please send an email
</span><span class="sd"> * to license@prestashop.com so we can send you a copy immediately.
</span><span class="sd"> *
</span><span class="sd"> * @author    PrestaShop SA and Contributors &lt;contact@prestashop.com&gt;
</span><span class="sd"> * @copyright Since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License version 3.0
</span><span class="sd"> */</span>

<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">namespace</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\Repository</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">DateTimeImmutable</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Db</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Order</span> <span class="k">as</span> <span class="nx">PrestaShopOrder</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\Collection\OrderCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\DTO\Order</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">OrderRepository</span>
<span class="p">{</span>
    <span class="sd">/**
</span><span class="sd">     * @var Db
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$db</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span> <span class="o">=</span> <span class="nx">Db</span><span class="o">::</span><span class="na">getInstance</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="sd">/**
</span><span class="sd">     * Get all orders that a customer has placed.
</span><span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getCustomerOrders</span><span class="p">(</span><span class="nx">int</span> <span class="nv">$customerId</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$excludeOrderIds</span> <span class="o">=</span> <span class="p">[])</span><span class="o">:</span> <span class="nx">OrderCollection</span>
    <span class="p">{</span>
        <span class="nv">$orders</span> <span class="o">=</span> <span class="nx">PrestaShopOrder</span><span class="o">::</span><span class="na">getCustomerOrders</span><span class="p">(</span><span class="nv">$customerId</span><span class="p">);</span>
        <span class="nv">$ordersCollection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OrderCollection</span><span class="p">();</span>

        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$orders</span> <span class="k">as</span> <span class="nv">$order</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">in_array</span><span class="p">(</span><span class="nv">$order</span><span class="p">[</span><span class="s1">&#39;id_order&#39;</span><span class="p">],</span> <span class="nv">$excludeOrderIds</span><span class="p">))</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="nv">$ordersCollection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">Order</span><span class="p">(</span>
                <span class="p">(</span><span class="nx">int</span><span class="p">)</span> <span class="nv">$order</span><span class="p">[</span><span class="s1">&#39;id_order&#39;</span><span class="p">],</span>
                <span class="nv">$order</span><span class="p">[</span><span class="s1">&#39;reference&#39;</span><span class="p">],</span>
                <span class="p">(</span><span class="nx">int</span><span class="p">)</span> <span class="nv">$order</span><span class="p">[</span><span class="s1">&#39;current_state&#39;</span><span class="p">],</span>
                <span class="k">new</span> <span class="nx">DateTimeImmutable</span><span class="p">(</span><span class="nv">$order</span><span class="p">[</span><span class="s1">&#39;date_add&#39;</span><span class="p">])</span>
            <span class="p">));</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$ordersCollection</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="notices note" >Unlike the previous <code>OrderSignatureRepository</code> this repository uses legacy PrestaShop classes,
it performs the request using the <code>Db</code> class. We have to do this because core objects
from PrestaShop do not use Doctrine entities, so we can&rsquo;t use a Doctrine repository to manage them.</div>

<p>Let&rsquo;s create <code>OrderSignaturePresenter</code> class responsible for returning order customer data<br>
in <code>src/Presenter/</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>
<span class="sd">/**
</span><span class="sd"> * Copyright since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * PrestaShop is an International Registered Trademark &amp; Property of PrestaShop SA
</span><span class="sd"> *
</span><span class="sd"> * NOTICE OF LICENSE
</span><span class="sd"> *
</span><span class="sd"> * This source file is subject to the Academic Free License version 3.0
</span><span class="sd"> * that is bundled with this package in the file LICENSE.md.
</span><span class="sd"> * It is also available through the world-wide-web at this URL:
</span><span class="sd"> * https://opensource.org/licenses/AFL-3.0
</span><span class="sd"> * If you did not receive a copy of the license and are unable to
</span><span class="sd"> * obtain it through the world-wide-web, please send an email
</span><span class="sd"> * to license@prestashop.com so we can send you a copy immediately.
</span><span class="sd"> *
</span><span class="sd"> * @author    PrestaShop SA and Contributors &lt;contact@prestashop.com&gt;
</span><span class="sd"> * @copyright Since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License version 3.0
</span><span class="sd"> */</span>

<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">namespace</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\Presenter</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Gender</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Order</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\Entity\OrderSignature</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">OrderSignaturePresenter</span>
<span class="p">{</span>
    <span class="sd">/**
</span><span class="sd">     * @var string
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="nv">$signatureImgDir</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$signatureImgDir</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">signatureImgDir</span> <span class="o">=</span> <span class="nv">$signatureImgDir</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">present</span><span class="p">(</span><span class="nx">OrderSignature</span> <span class="nv">$signature</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$languageId</span><span class="p">)</span><span class="o">:</span> <span class="k">array</span>
    <span class="p">{</span>
        <span class="nv">$order</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Order</span><span class="p">(</span><span class="nv">$signature</span><span class="o">-&gt;</span><span class="na">getOrderId</span><span class="p">());</span>
        <span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$order</span><span class="o">-&gt;</span><span class="na">getCustomer</span><span class="p">();</span>
        <span class="nv">$gender</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Gender</span><span class="p">(</span><span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">id_gender</span><span class="p">,</span> <span class="nv">$languageId</span><span class="p">);</span>

        <span class="k">return</span> <span class="p">[</span>
            <span class="s1">&#39;firstName&#39;</span> <span class="o">=&gt;</span> <span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">firstname</span><span class="p">,</span>
            <span class="s1">&#39;lastName&#39;</span> <span class="o">=&gt;</span> <span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">lastname</span><span class="p">,</span>
            <span class="s1">&#39;gender&#39;</span> <span class="o">=&gt;</span> <span class="nv">$gender</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">,</span>
            <span class="s1">&#39;imagePath&#39;</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">signatureImgDir</span><span class="o">.</span><span class="nv">$signature</span><span class="o">-&gt;</span><span class="na">getFilename</span><span class="p">()</span>
        <span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>Then lets use Symfony Dependency Injection
(<a href="https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/)">https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/)</a>.
and create services configuration for the above
classes in <code>demovieworderhooks/config/services.yml</code>. For more information:
<a href="https://devdocs.prestashop.com/1.7/modules/concepts/services/#symfony-services">https://devdocs.prestashop.com/1.7/modules/concepts/services/#symfony-services</a>.
The intention behind dependency injection is to achieve Separation of Concerns of construction and use of objects.
This can increase readability and code reuse, reduce dependencies, lead to more testable code.
It also reduces memory consumption as services are, by default, created once and shared
in the whole project.</p>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">parameters</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">signatureImgDirectory</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;signatures/&#39;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">prestashop.module.demovieworderhooks</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l">DemoViewOrderHooks</span><span class="w">
</span><span class="w">    </span><span class="nt">factory</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">Module, getInstanceByName]</span><span class="w">
</span><span class="w">    </span><span class="nt">arguments</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="s1">&#39;demovieworderhooks&#39;</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="nt">prestashop.module.demovieworderhooks.repository.order_repository</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l">PrestaShop\Module\DemoViewOrderHooks\Repository\OrderRepository</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="nt">prestashop.module.demovieworderhooks.repository.order_signature_repository</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l">PrestaShop\Module\DemoViewOrderHooks\Repository\OrderSignatureRepository</span><span class="w">
</span><span class="w">    </span><span class="nt">factory</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;@doctrine.orm.default_entity_manager&#39;</span><span class="p">,</span><span class="w"> </span><span class="l">getRepository]</span><span class="w">
</span><span class="w">    </span><span class="nt">arguments</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">PrestaShop\Module\DemoViewOrderHooks\Entity\OrderSignature</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="nt">prestashop.module.demovieworderhooks.presenter.order_signature_presenter</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l">PrestaShop\Module\DemoViewOrderHooks\Presenter\OrderSignaturePresenter</span><span class="w">
</span><span class="w">    </span><span class="nt">arguments</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="s1">&#39;@=service(&#34;prestashop.module.demovieworderhooks&#34;).getPathUri() ~ parameter(&#34;signatureImgDirectory&#34;)&#39;</span><span class="w">
</span><span class="w">
</span></code></pre></div><p>Let&rsquo;s create a twig templates in <code>modules/demovieworderhooks/views/templates/admin/</code>:</p>
<p>card.html.twig</p>
<div class="highlight"><pre class="chroma"><code class="language-twig" data-lang="twig"><span class="cp">{%</span> <span class="k">trans_default_domain</span> <span class="s1">&#39;Module.Demovieworderhooks.Admin&#39;</span> <span class="cp">%}</span><span class="x">
</span><span class="x">
</span><span class="x">&lt;div class=&#34;card&#34;&gt;
</span><span class="x">  &lt;div class=&#34;card-header&#34;&gt;
</span><span class="x">    &lt;h3 class=&#34;card-header-title&#34;&gt;
</span><span class="x">      </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">card_title</span> <span class="cp">%}</span><span class="x">
</span><span class="x">      </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x">
</span><span class="x">    &lt;/h3&gt;
</span><span class="x">  &lt;/div&gt;
</span><span class="x">
</span><span class="x">  &lt;div class=&#34;card-body&#34;&gt;
</span><span class="x">    </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">card_body</span> <span class="cp">%}</span><span class="x">
</span><span class="x">    </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x">
</span><span class="x">  &lt;/div&gt;
</span><span class="x">&lt;/div&gt;
</span></code></pre></div><p><code>customer_signature.html.twig</code> extending <code>card.html.twig</code></p>
<div class="highlight"><pre class="chroma"><code class="language-twig" data-lang="twig"><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;@Modules/demovieworderhooks/views/templates/admin/card.html.twig&#39;</span> <span class="cp">%}</span><span class="x">
</span><span class="x">
</span><span class="x"></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">card_title</span> <span class="cp">%}</span><span class="x">
</span><span class="x">  </span><span class="cp">{{</span> <span class="s1">&#39;Signature&#39;</span><span class="o">|</span><span class="nf">trans</span> <span class="cp">}}</span><span class="x">
</span><span class="x"></span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x">
</span><span class="x">
</span><span class="x"></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">card_body</span> <span class="cp">%}</span><span class="x">
</span><span class="x">  &lt;div class=&#34;col-lg&#34;&gt;
</span><span class="x">    &lt;div class=&#34;display-4 text-center&#34;&gt;
</span><span class="x">      </span><span class="cp">{{</span> <span class="nv">signature.gender</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">signature.firstName</span> <span class="cp">}}</span><span class="x"> </span><span class="cp">{{</span> <span class="nv">signature.lastName</span> <span class="cp">}}</span><span class="x">
</span><span class="x">    &lt;/div&gt;
</span><span class="x">    &lt;div class=&#34;text-center&#34;&gt;
</span><span class="x">      &lt;img src=&#34;</span><span class="cp">{{</span> <span class="nv">signature.imagePath</span> <span class="cp">}}</span><span class="x">&#34; alt=&#34;&#34;&gt;
</span><span class="x">    &lt;/div&gt;
</span><span class="x">  &lt;/div&gt;
</span><span class="x"></span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x">
</span></code></pre></div><p>Lets add several methods to <code>DemoViewOrderHooks</code> class.
<code>getModuleTemplatePath</code> - get&rsquo;s the path of the templates folder.</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>
    <span class="sd">/**
</span><span class="sd">     * Get path to this module&#39;s template directory
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="k">function</span> <span class="nf">getModuleTemplatePath</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nx">sprintf</span><span class="p">(</span><span class="s1">&#39;@Modules/%s/views/templates/admin/&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div><p>Render a twig template method:</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>
    <span class="sd">/**
</span><span class="sd">     * Render a twig template.
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="k">function</span> <span class="nf">render</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$template</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$params</span> <span class="o">=</span> <span class="p">[])</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="sd">/** @var Twig_Environment $twig */</span>
        <span class="nv">$twig</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;twig&#39;</span><span class="p">);</span>

        <span class="k">return</span> <span class="nv">$twig</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="nv">$template</span><span class="p">,</span> <span class="nv">$params</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div><p>For each registered hook, you must create a non-static public method,
starting with the hook keyword followed by the name of the hook you want to use
(starting with either display or action). In our case: <code>hookDisplayBackOfficeOrderActions</code>
For more information see: <a href="https://devdocs.prestashop.com/1.7/modules/concepts/hooks/#execution">https://devdocs.prestashop.com/1.7/modules/concepts/hooks/#execution</a>
We add this code at the bottom of the main module class <code>demovieworderhooks.php</code>
and also add the missing <code>use</code> statements for new classes.</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>
    <span class="sd">/**
</span><span class="sd">     * Displays customer&#39;s signature.
</span><span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">hookDisplayAdminOrderSide</span><span class="p">(</span><span class="k">array</span> <span class="nv">$params</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="sd">/** @var OrderSignatureRepository $signatureRepository */</span>
        <span class="nv">$signatureRepository</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span>
            <span class="s1">&#39;prestashop.module.demovieworderhooks.repository.order_signature_repository&#39;</span>
        <span class="p">);</span>

        <span class="sd">/** @var OrderSignaturePresenter $signaturePresenter */</span>
        <span class="nv">$signaturePresenter</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span>
            <span class="s1">&#39;prestashop.module.demovieworderhooks.presenter.order_signature_presenter&#39;</span>
        <span class="p">);</span>

        <span class="nv">$signature</span> <span class="o">=</span> <span class="nv">$signatureRepository</span><span class="o">-&gt;</span><span class="na">findOneByOrderId</span><span class="p">(</span><span class="nv">$params</span><span class="p">[</span><span class="s1">&#39;id_order&#39;</span><span class="p">]);</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$signature</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getModuleTemplatePath</span><span class="p">()</span> <span class="o">.</span> <span class="s1">&#39;customer_signature.html.twig&#39;</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">&#39;signature&#39;</span> <span class="o">=&gt;</span> <span class="nv">$signaturePresenter</span><span class="o">-&gt;</span><span class="na">present</span><span class="p">(</span><span class="nv">$signature</span><span class="p">,</span> <span class="p">(</span><span class="nx">int</span><span class="p">)</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">context</span><span class="o">-&gt;</span><span class="na">language</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">),</span>
        <span class="p">]);</span>
    <span class="p">}</span>
</code></pre></div><p>The full main module file with dependencies could be:</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>
<span class="sd">/**
</span><span class="sd"> * Copyright since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * PrestaShop is an International Registered Trademark &amp; Property of PrestaShop SA
</span><span class="sd"> *
</span><span class="sd"> * NOTICE OF LICENSE
</span><span class="sd"> *
</span><span class="sd"> * This source file is subject to the Academic Free License version 3.0
</span><span class="sd"> * that is bundled with this package in the file LICENSE.md.
</span><span class="sd"> * It is also available through the world-wide-web at this URL:
</span><span class="sd"> * https://opensource.org/licenses/AFL-3.0
</span><span class="sd"> * If you did not receive a copy of the license and are unable to
</span><span class="sd"> * obtain it through the world-wide-web, please send an email
</span><span class="sd"> * to license@prestashop.com so we can send you a copy immediately.
</span><span class="sd"> *
</span><span class="sd"> * @author    PrestaShop SA and Contributors &lt;contact@prestashop.com&gt;
</span><span class="sd"> * @copyright Since 2007 PrestaShop SA and Contributors
</span><span class="sd"> * @license   https://opensource.org/licenses/AFL-3.0 Academic Free License version 3.0
</span><span class="sd"> */</span>

<span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">use</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\Collection\OrderCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\Install\InstallerFactory</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\Presenter\OrderSignaturePresenter</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\Repository\OrderRepository</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PrestaShop\Module\DemoViewOrderHooks\Repository\OrderSignatureRepository</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">defined</span><span class="p">(</span><span class="s1">&#39;_PS_VERSION_&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">exit</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// need it because InstallerFactory is not autoloaded during the install
</span><span class="c1"></span><span class="k">require_once</span> <span class="no">__DIR__</span><span class="o">.</span><span class="s1">&#39;/vendor/autoload.php&#39;</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">DemoViewOrderHooks</span> <span class="k">extends</span> <span class="nx">Module</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s1">&#39;demovieworderhooks&#39;</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">author</span> <span class="o">=</span> <span class="s1">&#39;PrestaShop&#39;</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">version</span> <span class="o">=</span> <span class="s1">&#39;1.0.0&#39;</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ps_versions_compliancy</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;1.7.7.0&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="nx">_PS_VERSION_</span><span class="p">];</span>

        <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">();</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">displayName</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">l</span><span class="p">(</span><span class="s1">&#39;Demo view order hooks&#39;</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">description</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">l</span><span class="p">(</span><span class="s1">&#39;Demonstration of new hooks in PrestaShop 1.7.7 order view page&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">install</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">parent</span><span class="o">::</span><span class="na">install</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nv">$installer</span> <span class="o">=</span> <span class="nx">InstallerFactory</span><span class="o">::</span><span class="na">create</span><span class="p">();</span>

        <span class="k">return</span> <span class="nv">$installer</span><span class="o">-&gt;</span><span class="na">install</span><span class="p">(</span><span class="nv">$this</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">uninstall</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$installer</span> <span class="o">=</span> <span class="nx">InstallerFactory</span><span class="o">::</span><span class="na">create</span><span class="p">();</span>

        <span class="k">return</span> <span class="nv">$installer</span><span class="o">-&gt;</span><span class="na">uninstall</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="k">parent</span><span class="o">::</span><span class="na">uninstall</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="sd">/**
</span><span class="sd">     * Displays customer&#39;s signature.
</span><span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">hookDisplayBackOfficeOrderActions</span><span class="p">(</span><span class="k">array</span> <span class="nv">$params</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="sd">/** @var OrderSignatureRepository $signatureRepository */</span>
        <span class="nv">$signatureRepository</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span>
            <span class="s1">&#39;prestashop.module.demovieworderhooks.repository.order_signature_repository&#39;</span>
        <span class="p">);</span>

        <span class="sd">/** @var OrderSignaturePresenter $signaturePresenter */</span>
        <span class="nv">$signaturePresenter</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span>
            <span class="s1">&#39;prestashop.module.demovieworderhooks.presenter.order_signature_presenter&#39;</span>
        <span class="p">);</span>

        <span class="nv">$signature</span> <span class="o">=</span> <span class="nv">$signatureRepository</span><span class="o">-&gt;</span><span class="na">findOneByOrderId</span><span class="p">(</span><span class="nv">$params</span><span class="p">[</span><span class="s1">&#39;id_order&#39;</span><span class="p">]);</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$signature</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getModuleTemplatePath</span><span class="p">()</span> <span class="o">.</span> <span class="s1">&#39;customer_signature.html.twig&#39;</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">&#39;signature&#39;</span> <span class="o">=&gt;</span> <span class="nv">$signaturePresenter</span><span class="o">-&gt;</span><span class="na">present</span><span class="p">(</span><span class="nv">$signature</span><span class="p">,</span> <span class="p">(</span><span class="nx">int</span><span class="p">)</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">context</span><span class="o">-&gt;</span><span class="na">language</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">),</span>
        <span class="p">]);</span>
    <span class="p">}</span>

    <span class="sd">/**
</span><span class="sd">     * Render a twig template.
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="k">function</span> <span class="nf">render</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$template</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$params</span> <span class="o">=</span> <span class="p">[])</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="sd">/** @var Twig_Environment $twig */</span>
        <span class="nv">$twig</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;twig&#39;</span><span class="p">);</span>

        <span class="k">return</span> <span class="nv">$twig</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="nv">$template</span><span class="p">,</span> <span class="nv">$params</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="sd">/**
</span><span class="sd">     * Get path to this module&#39;s template directory
</span><span class="sd">     */</span>
    <span class="k">private</span> <span class="k">function</span> <span class="nf">getModuleTemplatePath</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nx">sprintf</span><span class="p">(</span><span class="s1">&#39;@Modules/%s/views/templates/admin/&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div><p>Now we have all the code needed so let&rsquo;s go to the <code>Modules-&gt;Module Manager</code>. Find our module with search <code>demo</code>
and click the drop down near the <code>disable</code> button and select <code>reset</code> to reload the module with the newly
described symfony services.</p>
<h2 id="result">Result</h2>
<p>After completing the steps above the result should be visible inside the selected Order View page:</p>
<ul>
<li>Signature card:</li>
</ul>
<figure>
    <img src="../../img/view-order-hooks-demo/view-order-demo-result.png"/> <figcaption>
            <h4>Signature card</h4>
        </figcaption>
</figure>

<p>Feel free to experiment with other Order view page hooks! You can find demo implementation of these hooks in
PrestaShop <code>example-modules</code> repository: <a href="https://github.com/PrestaShop/example-modules/tree/master/demovieworderhooks">https://github.com/PrestaShop/example-modules/tree/master/demovieworderhooks</a></p>


<footer class="article-footer">
	
<div>
  Last updated on September 24, 2020
  :
  <a href="https://github.com/PrestaShop/docs/commit/4dd9fdaad80128915522c847a9d28eea42633f9c">"Change folder name for more consistency" (4dd9fdaad)</a>
  
</div>


	<div class="license">
		This article is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
	</div>
</footer>

        
        </div>
        

      </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1627507034"></script>
    <script src="/js/perfect-scrollbar.min.js?1627507034"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1627507034"></script>
    <script src="/js/jquery.sticky.js?1627507034"></script>
    <script src="/js/featherlight.min.js?1627507034"></script>
    <script src="/js/html5shiv-printshiv.min.js?1627507034"></script>
    <script src="/js/modernizr.custom-3.6.0.js?1627507034"></script>
    <script src="/js/learn.js?1627507034"></script>
    <script src="/js/hugo-learn.js?1627507034"></script>
    
    <script src="/main.js?1627507034"></script>
    <link href="/mermaid/mermaid.css?1627507034" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1627507034"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-2753771-44', 'auto');
	
	ga('send', 'pageview');
}
</script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: 'e5a3a32dad46a5aaaa771b2b37d7084a',
indexName: 'prestashop',
inputSelector: '#search-by',
debug: false
});
</script>

  </body>
</html>

